<?xml version="1.0" encoding="UTF-8" ?>
<index id="xialotecon" namespace="DHMO\XialotEcon" title="xialotecon.main.title">
  <!-- xmlns="https://rawgit.com/SOF3/libkinetic/master/libkinetic.xsd" -->
  <item fromConfig="master-menu-item"/>
  <synopsis>xialotecon.main.synopsis</synopsis>

  <index id="bank" title="Bank">
  </index>

  <index id="admin" title="xialotecon.staff.title">
    <synopsis>xialotecon.staff.synopsis</synopsis>
    <index id="moderation" title="xialotecon.staff.queues.title">
      <synopsis>xialotecon.staff.queues.synopsis</synopsis>
      <list id="bankruptQueue" title="xialotecon.staff.queues.bankruptcy.title" provider="Loan\BankruptcyQueueAdapter">
        <synopsis>xialotecon.staff.queues.bankruptcy.synopsis</synopsis>

        <each configName="player">
        </each>
      </list>
    </index>

    <index id="analytics" title="xialotecon.staff.analytics.title">
      <list id="wealthList" title="xialotecon.staff.analytics.wealth-list.title" provider="Player\WealthListProvider">
        <command name="top-money">
          <alias>topmoney</alias>
        </command>
        <synopsis>xialotecon.staff.analytics.wealth-list.title</synopsis>
        <permission value="xialotecon.player.analysis.balance.his">
          <message>xialotecon.staff.analytics.wealth-list.permission-message.his</message>
        </permission>

        <commandConfig argName="xialotecon.staff.analytics.wealth-list.limit.arg-name">
          <input id="limit" title="xialotecon.staff.analytics.wealth-list.limit.input-name" default="10" typeCast="int"/>
        </commandConfig>

        <complexConfig id="currencyConfig" title="xialotecon.staff.analytics.wealth-list.currency-weight.title">
          <provider>Player\CurrencyWeightAdapter</provider>
          <each>
            <toggle id="toggle"/>
            <input id="weight" typeCast="float"/>
          </each>
        </complexConfig>

        <config id="cmpConfig" title="Choose which accounts to consider">
          <input id="sharedWeight" title="Weight of shared accounts" default="0" typeCast="float"
                 placeholder="Put a number here"/>
          <input id="loanWeight" title="Weight of debt accounts" default="0" typeCast="float"
                 placeholder="Put a positive number here. Outstanding debts will be deducted according to this ratio."/>
        </config>

        <before>
          <link target="xialotecon.admin.analytics.balance"/>
        </before>

        <each configName="whose">
          <link target="xialotecon.admin.analytics.balance"/>
        </each>
      </list>

      <info id="balance" populator="Player\BalanceInfoPopulator">
        <commandEntry name="balance"/>
        <permission predicate="Player\BalancePermissionPredicate"/>
        <simpleConfig type="input" id="whose" title="Player name" argName="player"
                      placeholder="You can just type the first few letters of the name"/>

        <listConfig id="which" title="Which player do you want?" provider="Player\WhichBalanceInfoProvider"/>

        <button1>Check transaction history</button1>
      </info>
    </index>
  </index>
  <literal id="about" title="About" content=""/>
</index>
