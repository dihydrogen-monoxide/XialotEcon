<?xml version="1.0" encoding="UTF-8" ?>
<index id="xialotecon" namespace="DHMO\XialotEcon" title="xialotecon.main.title">
  <!-- xmlns="https://rawgit.com/SOF3/libkinetic/master/libkinetic.xsd" -->
  <item fromConfig="master-menu-item"/>
  <synopsis>xialotecon.main.synopsis</synopsis>

  <index id="bank" title="Bank">
  </index>

  <index id="admin" title="xialotecon.staff.title">
    <synopsis>xialotecon.staff.synopsis</synopsis>
    <index id="moderation" title="xialotecon.staff.queues.title">
      <synopsis>xialotecon.staff.queues.synopsis</synopsis>
      <list id="bankruptQueue" title="xialotecon.staff.queues.bankruptcy.title" provider="Loan\BankruptcyQueueAdapter">
        <synopsis>xialotecon.staff.queues.bankruptcy.synopsis</synopsis>

        <each configName="player">
        </each>
      </list>
    </index>

    <index id="analytics" title="xialotecon.staff.analytics.title">
      <list id="wealthList" title="xialotecon.staff.analytics.wealth-list.title" provider="Player\WealthListProvider">
        <command name="top-money">
          <alias>topmoney</alias>
        </command>
        <synopsis>xialotecon.staff.analytics.wealth-list.title</synopsis>
        <permission value="xialotecon.player.analysis.balance.his"
                    message="xialotecon.staff.analytics.wealth-list.permission-message.his"/>

        <commandConfig argName="xialotecon.staff.analytics.wealth-list.limit.arg-name">
          <input id="limit" title="xialotecon.staff.analytics.wealth-list.limit.input-name" default="10"
                 typeCast="int"/>
        </commandConfig>

        <complexConfig id="currencyConfig" title="xialotecon.staff.analytics.wealth-list.currency-weight.title"
                       provider="Player\CurrencyWeightAdapter">
          <each>
            <toggle id="toggle" title="xialotecon.staff.analytics.wealth-list.currency-weight.toggle"/>
            <input id="weight" title="xialotecon.staff.analytics.wealth-list.currency-weight.analytics"
                   typeCast="float"/>
          </each>
        </complexConfig>

        <config id="cmpConfig" title="Choose which accounts to consider">
          <input id="sharedWeight" title="Weight of shared accounts" default="0" typeCast="float"
                 placeholder="Put a number here"/>
          <input id="loanWeight" title="Weight of debt accounts" default="0" typeCast="float"
                 placeholder="Put a positive number here. Outstanding debts will be deducted according to this ratio."/>
        </config>

        <before>
          <link target="xialotecon.admin.analytics.balance"/>
        </before>

        <each configName="whose">
          <link target="xialotecon.admin.analytics.balance"/>
        </each>
      </list>

      <info id="balance" populator="Player\BalanceInfoPopulator" title="xialotecon.staff.analytics.balance">
        <command name="balance"/>
        <permission predicate="Player\BalancePermissionPredicate"/>
        <commandConfig argName="xialotecon.staff.analytics.balance.whose.arg-name">
          <input id="whose" title="xialotecon.staff.analytics.balance.whose.title" placeholder="xialotecon.staff.analytics.balance.whose.placeholder"/>
        </commandConfig>

        <listConfig id="which" title="xialotecon.staff.analytics.balance.which.title" provider="Player\WhichBalanceInfoProvider"/>
      </info>
    </index>
  </index>
  <text id="about" title="About" content="xialotecon.about.content"/>
</index>
